## 数组中数字出现的次数II

--------------------

- 在一个数组 nums 中除一个数字只出现一次之外，其他数字都出现了三次。请找出那个只出现一次的数字。

--------------------

- 示例 1：

    - 输入：nums = [3,4,3,3]
    
    - 输出：4

- 示例 2：

    - 输入：nums = [9,1,7,9,7,9,7]

    - 输出：1

--------------------

- 限制：

    - 1 <= nums.length <= 10000

    - 1 <= nums[i] < 2^31

--------------------

- 记录int变量32个位的出现次数模3。则最后这32个位的组合就是需要找到的数字。

- 出现次数被模3，因此出现次数只会是 0、1 或 2，只需要 2 * 32 = 64 个 bit。

- 用二进制表示出现次数模3，则 0 = 00，1 = 01，2 = 10。

- 用 a, b 分别记录出现次数模3的高位和低位，则出现次数模3 的位表示为 ab，且最后查找的值就是 b。

- 写出 a, b, num, a', b' 的真值表。

    ```txt
    a   b  num  a'  b'
    0   0   0   0   0
    0   0   1   0   1
    0   1   0   0   1
    0   1   1   1   0
    1   0   0   1   0
    1   0   1   0   0 
    ```

    - 得到 b' = (!a)(!b)c + (!a)b(!c) = (!a)(b^c)
    - 得到 a' = (!a)(!b')c + a(!b')(!c) = (!b')(a^c)

```cpp
class Solution {
public:
    int singleNumber(vector<int>& nums) {
        int a = 0, b = 0;
        for (auto&& num : nums) {
            b = ~a & (b ^ num);
            a = ~b & (a ^ num);
        }
        return b;
    }
};

```