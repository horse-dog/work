## 1 计算机系统漫游

- 略

## 2 信息的表示和处理

- 无符号数的表示

- 有符号数的补码表示（以 8 位有符号数为例）：

  ```txt
  0000,1010: 即正数 10
  0000,0000: 0 
  0111,1111: 127 (int8_max)
  
  1000,1010: -128 + 10 = -118
  1000,0000: -128 + 0  = -128 (int8_min)
  1111,1111: -128 + 127= -1
  
  int8_t: [-128 ~ 127]
  ```

- 逻辑移位和算术移位

  - 逻辑左移和算术左移无异，舍弃高位，低位填 0。
  - 逻辑右移舍弃低位，高位填 0。
  - 算术右移舍弃低位，高位填充符号位。

- IEEE 浮点数标准

  ```txt
  | 符号位 (s) | 阶码 (exp) | 底数 (frac) |
  
  float:  s(1bit) + exp(8bit) + frac(23bit)
  double: s(1bit) + exp(11bit) + frac(52bit)
  ```

  - 底数真实值为 1 + frac

    ```txt
    例如一个 float 数 的 frac = 110,0000,0000,0000,0000,0000
    则底数真值为: 1 + 0.75 = 1.75
    ```

  - 阶码采用移码表示：E = 原码值 - bias。( bias = 2^(k-1) - 1，k 为阶码占用的位数 )。

    - 对于 float：k = 8，bias = 127，E = 原码值 - 127。
    - 对于 double：k = 11，bias = 1023，E = 原码值 - 1023。

  - 规格化数

    - 阶码的所有位不全为 0 而且也不全为 1 时，按移码方式计算指数的实际值。按 1 + frac 计算底数。
    - 易知规格化 float 阶码取值范围为：[-126, 127]。

  - 非规格化数

    - 阶码全0，此时不按移码方式计算指数的实际值，直接认为指数实际值 = 1 - bias。底数直接认为是 frac，不再加 1。
    - 非规格化数的存在确保了浮点数可以表示 0。

  - 特殊值：

    - 阶码为全 1，frac 为全 0 时，表示无穷（是正无穷还是负无穷取决于符号位）。
    - 阶码为全 1，frac 不全为 0 时，表示 NaN。
